<!DOCTYPE html>
<html lang="en" ng-app="todoApp">
<head>
    <meta charset="UTF-8">
    <title>Professional To-Do List</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #4e73df, #1cc88a);
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .todo-card {
            width: 450px;
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .completed {
            text-decoration: line-through;
            color: gray;
        }

        .task-item:hover {
            background-color: #f8f9fa;
            transition: 0.3s;
        }

        .footer-text {
            font-size: 14px;
            color: #555;
        }
    </style>
</head>

<body ng-controller="TodoController">

<div class="card todo-card p-4 bg-white">
    <h3 class="text-center mb-4">My To-Do List</h3>

    <div class="input-group mb-3">
        <input type="text" class="form-control"
               placeholder="Enter a new task..."
               ng-model="newTask"
               ng-keypress="($event.which === 13) && addTask()">
        <button class="btn btn-primary" ng-click="addTask()">Add</button>
    </div>

    <div class="text-center mb-3">
        <button class="btn btn-sm btn-secondary me-2" ng-click="filterStatus=''">All</button>
        <button class="btn btn-sm btn-warning me-2" ng-click="filterStatus=false">Active</button>
        <button class="btn btn-sm btn-success" ng-click="filterStatus=true">Completed</button>
    </div>

    <ul class="list-group">
        <li class="list-group-item d-flex justify-content-between align-items-center task-item"
            ng-repeat="task in tasks | filter:{completed:filterStatus}">
            
            <div>
                <input type="checkbox" class="form-check-input me-2"
                       ng-model="task.completed"
                       ng-change="saveTasks()">
                <span ng-class="{'completed': task.completed}">
                    {{task.title}}
                </span>
            </div>

            <button class="btn btn-sm btn-danger"
                    ng-click="deleteTask($index)">
                Delete
            </button>
        </li>
    </ul>

    <div class="text-center mt-3 footer-text">
        {{ remaining() }} task(s) remaining
    </div>
</div>

<script>
    var app = angular.module('todoApp', []);

    app.controller('TodoController', function($scope) {

        $scope.tasks = JSON.parse(localStorage.getItem('tasks')) || [];
        $scope.filterStatus = '';

        $scope.saveTasks = function() {
            localStorage.setItem('tasks', JSON.stringify($scope.tasks));
        };

        $scope.addTask = function() {
            if ($scope.newTask && $scope.newTask.trim() !== "") {
                $scope.tasks.push({
                    title: $scope.newTask.trim(),
                    completed: false
                });
                $scope.newTask = "";
                $scope.saveTasks();
            }
        };

        $scope.deleteTask = function(index) {
            $scope.tasks.splice(index, 1);
            $scope.saveTasks();
        };

        $scope.remaining = function() {
            return $scope.tasks.filter(function(task) {
                return !task.completed;
            }).length;
        };
    });
</script>

</body>
</html>
